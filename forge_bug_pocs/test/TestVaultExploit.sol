// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;


import "../src/Vault/Vault.sol";
import "../exploits/Vault/VaultExploitAttempt.sol";
import "forge-std/console.sol";
// import "forge-std/test.sol";


contract TestVaultExploit is Test {

    function testHack() public {
        
        // deploy contracts
        bytes32 password = "a very stong secret password";
        Vault victim = new Vault(password);
        VaultExploit attacker = new VaultExploit(address(victim));

       vm.deal(address(victim), 1 ether); 
       vm.deal(address(attacker), 1 ether); 
                


        attacker.hack();

        assertFalse(victim.locked(), "victim should be unlocked");

    }
}
