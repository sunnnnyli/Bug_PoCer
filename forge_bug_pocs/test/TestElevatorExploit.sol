// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;
import "src/Elevator/Elevator.sol";
import "exploits/Elevator/ElevatorExploitAttempt.sol";
import "forge-std/console.sol";
import "forge-std/test.sol";


contract TestElevatorExploit is Test {

    function testHack() public {
        
        // deploy contracts
        Elevator victim = new Elevator();
        ElevatorExploit attacker = new ElevatorExploit(address(victim));
        
        vm.deal(address(victim), 1 ether);
        vm.deal(address(attacker), 1 ether);

        attacker.hack();

        assertTrue(victim.top());
    }
}