// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;
import "../src/Denial/Denial.sol";
import "../exploits/Denial/DenialExploitAttempt.sol";
import "forge-std/console.sol";
import "forge-std/test.sol";


contract TestDenialExploit is Test {

    function testHack() public {
        
        // deploy contracts
        Denial victim = new Denial(address(this));
        DenialExploit attacker = new DenialExploit(payable(victim));
        

        vm.deal(address(victim), 1 ether);

        attacker.hack();

        try victim.withdraw() {
            assertTrue(false, "should have reverted");
        } catch (bytes memory err) {
        }
    }

}
