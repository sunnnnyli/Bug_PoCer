// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;
import "../src/Shop/Shop.sol";
import "../exploits/Shop/ShopExploitSolution.sol";
import "forge-std/console.sol";
import "forge-std/test.sol";


contract TestShopExploit is Test {

    function testHack() public {
        
        // deploy contracts
        Shop victim = new Shop();
        ShopExploit attacker = new ShopExploit(payable(address(victim)));
        

        // attacker buys the item
        attacker.hack();

        assertTrue(victim.isSold(), "Item should be sold");
    }

}
