// SPDX-License-Identifier: MIT

pragma solidity ^0.8.0;
import "src/NaughtCoin/NaughtCoin.sol";
import "exploits/NaughtCoin/NaughtCoinExploitSolution.sol";
import "forge-std/console.sol";
import "forge-std/test.sol";


contract TestNaughtCoinExploit is Test {

    function testHack() public {
        
        // deploy contracts
        NaughtCoinExploit attacker = new NaughtCoinExploit();

        NaughtCoin victim = new NaughtCoin(address(attacker));


        assertTrue(victim.balanceOf(address(attacker)) == victim.INITIAL_SUPPLY());


        attacker.hack(address(victim));

        assertTrue(victim.balanceOf(address(attacker)) < victim.INITIAL_SUPPLY());
    }
}