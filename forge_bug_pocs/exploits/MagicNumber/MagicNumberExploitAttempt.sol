// SPDX-License-Identifier: Unlicense
pragma solidity ^0.8.0;
import "../../src/MagicNumber/MagicNumber.sol";

contract MagicNumberExploit {
    MagicNumber victim;

    constructor(address _victim) {
        victim = MagicNumber(_victim);
    }

    function hack() public returns (address) {
        bytes memory code = hex"602a60005260206000f3"; // runtime code, 10 bytes
        address addr;
        assembly {
            // Deploy the contract with only 10 bytes of code
            addr := create(0, add(code, 0x20), 10)
            if iszero(extcodesize(addr)) { revert(0, 0) }
        }
        victim.setSolver(addr);
        return addr;
    }
}
